---
aliases:
  - Router
  - Routers
tags:
  - incomplete
  - Networks
References: 
cssclasses:
---
# Router
## Hight-level Architecture:
![[Screenshot 2024-11-03 at 10.09.35 AM.png|center|600]]

+ **Input ports:** 
  Where physical-layer links terminate. 
  + The actual input ports **requests the forwarding tables information** to know where to send the packets. The request and computation is then performed in the **routing processor.** 
    
+ **Switching fabric:** Connection of the input ports to the output ports.

+ **Output ports:** Get packets from the switching fabric and transmit them to the outgoing link.

+ **Routing processor (a CPU):** 
	+ Performs the [[1730567097 - The network layer control plane|Control plane]] functions. 
	+ Saves and computes the forwarding tables.
	+ Executes routing protocols 
	+ Recieves and communicates with remote controllers (in SDN approach). 
	+ Performs network management funcitons.


> [!ATTENTION] Remark 
> See that input-output ports and switching fabrics implementations **must be done directly into the hardware in order to keep up whith the necessary speed**. 
> However the routing processor is implemented in software as the speed of its functions is not that important.

### Input port processing:
Input ports must do the following actions, weâ€™ll discuss each one of them below:

1. Lookup into the forwarding tables and send the packet into the switching fabric to the output port. This lookup is usually denoted as the abstraction **match plus action**
2. Physical and link layer processing.
3. Rewrite the packets header information
4. Update counters for network management.
### Lookup (match plus action):
+ Iput port processing solves the centralised processing botleneck in lookup by **copying the forwarding tables into each one of the input ports.** 

![[1730624725 - Routerj.png|center|500]]


> [!BUG] Problem: 
> The main problem when looking at a table is how long is it going to take. Input ports need to work blazingly fast and looking at a 4 million entry table is not feasable.
> 

> [!check] Solution: 
> The solution is to use **prefix-matching** to simplify all the probabilities into a few prefixes and output into link-interfaces based on this prefixes.
> 
+ If two prefixes math use **longgest-prefix matching**
+ This still needs to be done super fast. Spetial SRAM,DRAM,TCAM memory is used along with the latest search algorithms to return rows in **constant time.**


***